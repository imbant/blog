<!DOCTYPE html><html lang="zh-CN"><head><meta name="google-site-verification" content="_s8zp9HC5xK3I7RCh_8RJrSUgYtyNgc09bZvTV11nFI"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="imbant 前端工程师技术博客"><meta name="keywords" content="前端,imbant,技术博客,浏览器,Electron,React,Vue,Node,Webpack,Vite,Chrome"><title>命令行选项标准 | imbAnt's blog</title><link rel="stylesheet" type="text/css" href="/blog/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any"><link rel="Shortcut Icon" type="image/x-icon" href="/blog/favicon.ico"><link rel="apple-touch-icon" href="/blog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/blog/apple-touch-icon.png"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZM9NGRYKWS"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'G-ZM9NGRYKWS');
</script><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 6.0.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">命令行选项标准</h1><a id="logo" href="/blog/.">imbAnt's blog</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/blog/."><i class="fa fa-home"> 首页</i></a><a href="/blog/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/blog/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container">Hi 👋，欢迎访问我的博客
我是一名前端开发者，VS Code 插件和语言服务器开发者
我目前正在构建基于 LSP 的 <a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=craftLandstudio.ffugclanguage">语言服务器</a>，也在维护用 Go 构建的编译器。
在<a href="/about/">这里</a>查看更多关于我的信息<br>我希望通过这个博客记录技术知识，提升影响力。如果你感兴趣，可以看看这些文章：<br><a href="/2024/10/29/VS-Code-Thankyou/">我为 VS Code 贡献了代码</a><br><a href="2024/08/24/LSP1/">LSP 与 VS Code 插件开发 第一章</a><br><a href="2023/03/30/怎么让-favicon-动起来/">怎么让 favicon 动起来</a><div class="post"><h1 class="post-title">命令行选项标准</h1><div class="post-meta">2020-05-08</div><div class="post-content"><p>在查找<code>git push</code>命令的文档时看到了下面的内容：</p>
<p><img src="https://imbant-blog.oss-cn-shanghai.aliyuncs.com/blog-img/4/%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9%E6%A0%87%E5%87%86.png" alt="img"></p>
<p>顺手查了一下这种描述方式的语法和名称，基于<a target="_blank" rel="noopener" href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap12.html">这个规范</a>做一些总结。</p>
<h2 id="POSIX"><a href="#POSIX" class="headerlink" title="POSIX"></a>POSIX</h2><p>POSIX = Protable Operating System Interface（可移植操作系统接口）是一种标准，最后一个字母<code>X</code>表明其对 Unix API 的传承。Linux 基本逐步实现了 POSIX 兼容，可以简单理解为在 Linux 命令行执行应用程序的语法基本会遵循这个标准（或者说要求开发者遵循这些标准）。</p>
<p>其中，POSIX.1-2017 描述了命令行选项的参数语法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">utility_name [-a] [-b] [-c option_argument]</span><br><span class="line">  [-d | -e] [-f [option_argument]] [operand...]</span><br></pre></td></tr></table></figure>

<p>基本结构为 utility_name（命令名）+ options（选项）+ option-arguments（参数）+ operands（操作数？）</p>
<h2 id="语法详解"><a href="#语法详解" class="headerlink" title="语法详解"></a>语法详解</h2><ol start="0">
<li><code>-</code>或者<code>--</code>后边会跟实际的参数名称。写法上<code>-</code>后边跟（通常是首字母）缩写，<code>--</code>跟完整的字母，比如最常用的<code>-h</code> <code>--help</code> <code>-v</code> <code>--version</code></li>
<li><code>[]</code>表示选项或者参数是可选的，比如<code>[-f [ option_argument]]</code>可以写<code>-f</code>、<code>-f some_argument</code>或者干脆不带这个选项。不过标准中不推荐参数可选。</li>
<li><code>|</code>表示两侧的选项互斥。如果同时写了两个互斥参数会产生难以预期的结果。</li>
<li><code>&lt;&gt;</code>表示需要用实际值替换的参数名称，比如<code>git push</code>中有<code>[--repo=&lt;repository&gt;]</code>这个参数，<code>repository</code>就需要被实际仓库替换掉</li>
<li><code>...</code>表示允许多个选项或者操作数出现。</li>
<li>如果一个选择后边有多个参数，用<code>,</code>或者空格分隔</li>
<li>在最后一组选项-参数后边的东西被称为 operands（操作数），没啥其他翻译…</li>
<li>选项的顺序基本无关紧要，原则上是字典序排列。</li>
</ol>
</div><div class="tags"><a href="/blog/tags/linux/"><i class="fa fa-tag"></i>linux</a></div><div class="post-nav"><a class="pre" href="/blog/2020/10/01/JS%20%E6%A8%A1%E5%9D%97%E5%8C%96%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">JS 模块化解决方案</a><a class="next" href="/blog/2020/04/20/JS-%E5%8E%9F%E5%9E%8B%E9%93%BE/">JS 原型链、this 与 class</a></div><div class="giscus"></div><script src="https://giscus.app/client.js" data-repo="imbant/blog" data-repo-id="MDEwOlJlcG9zaXRvcnkyNDkzOTc0NDM=" data-category="General" data-category-id="DIC_kwDODt2Aw84Ch79K" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="preferred_color_scheme" data-lang="zh-CN" crossorigin="anonymous" async></script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://imbant.github.io/blog"/></form></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer"><span id="footer-copyright">Copyright © </span><a href="/blog/." rel="nofollow">imbAnt's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a><script>const tag = document.getElementById('footer-copyright');const year = new Date().getFullYear();tag.innerText += year + ' ';</script></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/blog/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/blog/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/blog/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/blog/js/smartresize.js?v=1.0.0"></script><script type="text/javascript" src="/blog/js/gifFavIcon.js"></script></div></body></html>