<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>flex box 下的宽度问题 | imbAnt's blog</title><link rel="stylesheet" type="text/css" href="/blog/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.1/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.1/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/blog/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/blog/favicon.ico"><link rel="apple-touch-icon" href="/blog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/blog/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/2.0.4/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/2.1.4/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/2.1.4/toastr.min.css"><meta name="generator" content="Hexo 4.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">flex box 下的宽度问题</h1><a id="logo" href="/blog/.">imbAnt's blog</a><p class="description">Be The Person You Want To Meet</p></div><div id="nav-menu"><a class="current" href="/blog/."><i class="fa fa-home"> 首页</i></a><a href="/blog/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/blog/about/"><i class="fa fa-user"> 关于</i></a><a href="/blog/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">flex box 下的宽度问题</h1><div class="post-meta">2019-11-19</div><div class="post-content"><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a href="https://www.jianshu.com/p/17b1b445ecd4" target="_blank" rel="noopener">https://www.jianshu.com/p/17b1b445ecd4</a></p>
<h2 id="flex-box-下影响子元素宽度的因素"><a href="#flex-box-下影响子元素宽度的因素" class="headerlink" title="flex box 下影响子元素宽度的因素"></a>flex box 下影响子元素宽度的因素</h2><p>首先，在 flex box 容器内，元素的 width 设置后是可以生效的，无需关注 display 属性。<br>即使 display 属性设置为 inline，也一样可以设置 width</p>
<p>有 4 个属性会影响元素宽度：</p>
<ol>
<li>width</li>
<li>flex-basis</li>
<li>flex-grow</li>
<li>flex-shrink</li>
</ol>
<p>因此，<strong>在 flex box 下，元素真实宽度可能与 width 值不同</strong>。解决方案如下：</p>
<h3 id="1-width-与-flex-basis"><a href="#1-width-与-flex-basis" class="headerlink" title="1. width 与 flex-basis"></a>1. width 与 flex-basis</h3><p>在定义元素宽度时，flex-basis 值比 width 优先级更高。<br>当然这种说法是有局限性的，flex-basis 值决定的其实是元素在主轴方向上的长度，默认情况下就是横向，也就和 width 值起同一个作用，但优先级比 width 高。<br><img src="/blog/images/flex-box-%E4%B8%8B%E7%9A%84%E5%AE%BD%E5%BA%A6%E9%97%AE%E9%A2%981.png" alt=""></p>
<h3 id="2-flex-grow"><a href="#2-flex-grow" class="headerlink" title="2. flex-grow"></a>2. flex-grow</h3><p>flex-grow 规定元素如何分配容器的剩余空间。如果容器内元素的宽度之和小于容器宽度，这个属性就会生效，给子元素按比例分配宽度：<br>a、b、c 三个元素 width 之和为 10 + 20 + 40 = 70 px。容器宽度为 150px，剩余空间为 150 - 70 = 80 px。<br>这 80px 就是要分配给有 flex-grow 属性的元素：a 和 b，c 没设定这个值，不给它分配。分配规则是按值作为比例，a 分配 2 份，b 分配 1 份。<br>a 的最终宽度：10 + (80 * 2/3) = 63.3333px<br>b 的最终宽度：20 + (80 * 1/3) = 46.6667px<br><strong>可见虽然设置了 width，元素的真实宽度却与其值不同</strong><br><img src="/blog/images/flex-box-%E4%B8%8B%E7%9A%84%E5%AE%BD%E5%BA%A6%E9%97%AE%E9%A2%982.png" alt=""></p>
<h3 id="3-flex-shrink"><a href="#3-flex-shrink" class="headerlink" title="3. flex-shrink"></a>3. flex-shrink</h3><p>flex-shrink 规定元素如何吸收超出容器的空间。与 flex-grow 相反，如果子元素加起来的宽度超过了容器元素，超出的部分将在设置了 flex-shrink 值的元素中减去，达到所有元素填满容器，却不超出的效果<br>a、b、c 三个元素的 width 之和为 70 + 90 + 40 = 200px，与容器 width 之差为 200 - 150 = 50px。<br>这 50px 需要在 a、b 子元素中减去，c 没设置这个值，不用减。<br>同样按比例分配要减去的值：a 分配 2/7，b 分配 5/7<br>a 最终宽度：70 - (50 * 2/7) = 55.7143px<br>b 最终宽度：90 - (50 * 5/7) = 54.2857px</p>
<p>可见虽然设置了 width，元素的真实宽度却与其值不同</p>
<p><img src="/blog/images/flex-box-%E4%B8%8B%E7%9A%84%E5%AE%BD%E5%BA%A6%E9%97%AE%E9%A2%983.png" alt=""></p>
<h3 id="4-解决-flex-box-中元素宽度与-width-不同"><a href="#4-解决-flex-box-中元素宽度与-width-不同" class="headerlink" title="4. 解决 flex box 中元素宽度与 width 不同"></a>4. 解决 flex box 中元素宽度与 width 不同</h3><p>将 flex-grow 和 flex-shrink 属性设置为 0，保证真实宽度不会随其他元素变化。</p>
<h3 id="5-css-语法中的-flex-属性"><a href="#5-css-语法中的-flex-属性" class="headerlink" title="5. css 语法中的 flex 属性"></a>5. css 语法中的 flex 属性</h3><p>flex 是 flex-basis、flex-grow、flex-shrink 三个属性的简写</p>
</div><div class="tags"><a href="/blog/tags/CSS/"><i class="fa fa-tag"></i>CSS</a></div><div class="post-nav"><a class="pre" href="/blog/2019/12/11/%E5%AE%89%E5%8D%93%E5%BE%AE%E4%BF%A1-%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE-%E7%9B%B8%E5%85%B3%E8%B8%A9%E5%9D%91/">安卓微信 视频播放 相关踩坑</a><a class="next" href="/blog/2019/10/10/%E5%85%B3%E4%BA%8E-js-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/">关于 js 文件上传</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://imbant.github.io/blog"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/blog/tags/JS/" style="font-size: 15px;">JS</a> <a href="/blog/tags/React-Router/" style="font-size: 15px;">React Router</a> <a href="/blog/tags/%E7%A7%BB%E5%8A%A8-Web-%E5%BC%80%E5%8F%91/" style="font-size: 15px;">移动 Web 开发</a> <a href="/blog/tags/%E5%BE%AE%E4%BF%A1/" style="font-size: 15px;">微信</a> <a href="/blog/tags/ES6/" style="font-size: 15px;">ES6</a> <a href="/blog/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/blog/tags/Node/" style="font-size: 15px;">Node</a> <a href="/blog/tags/React/" style="font-size: 15px;">React</a> <a href="/blog/tags/HTTP/" style="font-size: 15px;">HTTP</a> <a href="/blog/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%A7%86%E9%A2%91/" style="font-size: 15px;">移动端视频</a> <a href="/blog/tags/Devops/" style="font-size: 15px;">Devops</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/2020/03/13/React-Diffing-%E7%AE%97%E6%B3%95/">React Diffing 算法</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/03/09/React-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/">React 生命周期</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/02/25/BrowserRouter-vs-HashRouter/">BrowserRouter vs HashRouter</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/12/20/CSS-%E6%96%B9%E5%BC%8F%E8%A7%A3%E5%86%B3-iOS-%E5%BE%AE%E4%BF%A1%E6%A9%A1%E7%9A%AE%E7%AD%8B%E6%95%88%E6%9E%9C%E4%B8%8E-position-fixed-%E8%81%94%E5%8A%A8%E7%9A%84%E5%9D%91/">CSS 方式解决 iOS 微信橡皮筋效果与 position: fixed 联动的坑</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/12/11/%E5%AE%89%E5%8D%93%E5%BE%AE%E4%BF%A1-%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE-%E7%9B%B8%E5%85%B3%E8%B8%A9%E5%9D%91/">安卓微信 视频播放 相关踩坑</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/11/19/flex-box-%E4%B8%8B%E7%9A%84%E5%AE%BD%E5%BA%A6%E9%97%AE%E9%A2%98/">flex box 下的宽度问题</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/10/10/%E5%85%B3%E4%BA%8E-js-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/">关于 js 文件上传</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/09/11/Token-Session-Cookie/">Token Session Cookie</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/08/13/ES6-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E7%9A%84%E7%AE%80%E5%86%99%E4%B8%8E%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/">ES6 对象属性的简写与解构赋值</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/08/11/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/">持续集成</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/blog/." rel="nofollow">imbAnt's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/blog/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/blog/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/blog/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/blog/js/smartresize.js?v=0.0.0"></script></div></body></html>